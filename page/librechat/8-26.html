<html>
<head>
<meta charset="utf-8"/>
<style>
        * {
            box-sizing: border-box;
            margin: 3;
            padding: 0;
        }

        .container {
            width: 80%;
            max-width: 600px;
            margin: 20px auto;
            border: 2px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
   .content {
            background-color: #ffffff;
            border-radius: 10px;
            padding: 20px;
            max-width: 100%;
            margin: 20px auto;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }

        h2 {
            text-align: center;
            color: #666;
        }

        p {
            text-align: justify;
            line-height: 1.5;
        }

        code {
            font-family: "Courier New", monospace;
            background-color: #f0f0f0;
            padding: 2px 4px;
        }

        input[type=text], input[type=number] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        input[type=radio] {
            margin-right: 10px;
        }

        label {
            display: inline-block;
            margin-bottom: 10px;
        }
 table {
            border-collapse: collapse;
            width: 100%;
            border: 1px solid #dddddd;
        }
       th, td {
    text-align: center; /* 将此属性更改为居中 */
    padding: 8px;
    border: 1px solid #dddddd;
    border-collapse: collapse;
    background-color: #f9f9f9; /* 添加这个属性设置表格背景颜色 */
}

}

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
   
        button {
            display: block;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #333;
            color: white;
            font-size: 16px;
        }

        button:hover {
            opacity: 0.8;
        }

        button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result {
            display: none;
        }
		 nav {
            background-color: #ffffff;
            padding: 10px;
            text-align: center;
        }
        nav a {
            text-decoration: none;
            margin: 15px;
            color: #333333;
            padding: 10px;
        }

    </style>
</head>
<body>
<nav>
<a href="../../index.html">首页</a>
<a href="https://libre.laogou717.com/" style="color: crimson">👋不想部署,直接体验</a>
<a href="https://github.com/danny-avila/LibreChat">项目开源地址</a>
</nav>
<div class="container">
<h1>交互式设计</h1>
<p>这是一个让你快速填写变量的工具。你只需要按照提示输入变量，值自设置为user_provided[这意味这你可以部署完毕后再去设置]。每次填写完一个变量，就会跳转到下一个问题，直到回答完所有问题，出现一个下载按钮和复制按钮。你可以点击这些按钮来下载或复制之前的变量来一键部署</p>
<div class="question" id="q1">
<h2>[HOST]</h2>
<p>✅允许访问的IP地址<br/><code>0.0.0.0</code>为所有地址</p>
<input id="host" type="text" value="0.0.0.0"/>
<button onclick="nextQuestion(1)">下一步</button>
</div>
<a href="https://zeabur.com/templates/JB402Y?referralCode=laogou717"><img alt="Deploy on Zeabur" src="https://zeabur.com/button.svg"/></a>
<div class="question" id="q2" style="display:none;">
<h2>[PORT]</h2>
<p>网站的端口号,理论上可以自定义<br/>但是可能会出现冲突,因此推荐<code>7860</code></p>
<input id="port" type="number" value="7860"/>
<button onclick="nextQuestion(2)">下一步</button>
</div>
<div class="question" id="q3" style="display:none;">
<h2>[ANTHROPIC_MODELS]</h2>
<p>克劳德模型如果想使用克劳德<br/>这个是必须的</p>
<input id="anthropic_models" type="text" value="claude-1,claude-instant-1,claude-2"/>
<button onclick="nextQuestion(3)">下一步</button>
</div>
<div class="question" id="q4" style="display:none;">
<h2>[ANTHROPIC_API_KEY]</h2>
<p>克劳德API,可以在任何<br/>需要API的地方填入<code>user_provided</code><br/>这样我们就可以在网站内填写API</p>
<input id="anthropic_api_key" type="text" value="user_provided"/>
<button onclick="nextQuestion(4)">下一步</button>
</div>
<div class="question" id="q5" style="display:none;">
<h2>[OPENAI_MODELS]</h2>
<p>Chatgpt模型</p>
<input id="openai_models" type="text" value="gpt-3.5-turbo,gpt-3.5-turbo-16k,gpt-3.5-turbo-0301,llama-2-70b-chat"/>
<button onclick="nextQuestion(5)">下一步</button>
</div>
<div class="question" id="q6" style="display:none;">
<h2>[CHATGPT_TOKEN]</h2>
<p>ChatGPT的登陆token<code>accesstoken</code><br/>或者使用<code>免费共享Token</code></p>
<input id="chatgpt_token" type="text" value="user_provided"/>
<button onclick="nextQuestion(6)">下一步</button>
</div>
<div class="question" id="q7" style="display:none;">
<h2>[OPENAI_API_KEY]</h2>
<p>ChatGPT付费API或者第三方的转发API<br/>但需要设置对应端点 ⬇️</p>
<input id="openai_api_key" type="text" value="user_provided"/>
<button onclick="nextQuestion(7)">下一步</button>
</div>
<div class="question" id="q8" style="display:none;">
<h2>[OPENAI_REVERSE_PROXY]</h2>
<p>API端点第一个是pandora项目的端点;<br/>第二个是奇美拉项目的端点;<br/>其他的自行填写</p>
<label><input name="openai_reverse_proxy" type="radio" value="https://ai.fakeopen.com/v1/chat/completions"/>https://ai.fakeopen.com/v1/chat/completions</label><br/>
<label><input name="openai_reverse_proxy" type="radio" value="https://chimeragpt.adventblocks.cc/api"/>https://chimeragpt.adventblocks.cc/api</label><br/>
<label><input name="openai_reverse_proxy" type="radio" value="https://chimeragpt.adventblocks.cc/api"/>https://api.openai.com/v1/chat/completions</label><br/>
<label><input name="openai_reverse_proxy" type="radio" value=""/>其他:</label><input id="openai_reverse_proxy_custom" type="text"/>
<button class="disabled" onclick="nextQuestion(8)">下一步</button>
</div>
<div class="question" id="q9" style="display:none;">
<h2>[BINGAI_TOKEN]</h2>
<p>必应的登陆cookie,_U数据</p>
<input id="bingai_token" type="text" value="user_provided"/>
<button onclick="nextQuestion(9)">下一步</button>
</div>
<div class="question" id="q10" style="display:none;">
<h2>[PALM_KEY]</h2>
<p>谷歌大语言模型的API</p>
<input id="palm_key" type="text" value="user_provided"/>
<button onclick="nextQuestion(10)">下一步</button>
</div>
<div class="question" id="q11" style="display:none;">
<h2>[ALLOW_REGISTRATION]</h2>
<p>是否允许注册✅</p>
<label><input name="allow_registration" type="radio" value="true"/>是</label><br/>
<label><input name="allow_registration" type="radio" value="false"/>否</label><br/>
<button class="disabled" onclick="nextQuestion(11)">下一步</button>
</div>
<div class="question" id="q12" style="display:none;">
<h2>[ALLOW_SOCIAL_LOGIN]</h2>
<p>是否允许社交媒体登陆✅</p>
<label><input name="allow_social_login" type="radio" value="true"/>是</label><br/>
<label><input name="allow_social_login" type="radio" value="false"/>否</label><br/>
<button class="disabled" onclick="nextQuestion(12)">下一步</button>
</div>
<div class="question" id="q13" style="display:none;">
<h2>[ALLOW_SOCIAL_REGISTRATION]</h2>
<p>是否允许社交媒体注册✅</p>
<label><input name="allow_social_registration" type="radio" value="true"/>是</label><br/>
<label><input name="allow_social_registration" type="radio" value="false"/>否</label><br/>
<button class="disabled" onclick="nextQuestion(13)">下一步</button>
</div>
<div class="question" id="q14" style="display:none;">
<h2>[MONGO_URI]</h2>
<p>数据库,用来存放用户注册、登陆等信息</p>
<input id="mongo_uri" type="text" value="user_provided"/>
<button onclick="nextQuestion(14)">下一步</button>
</div>
<div class="question" id="q15" style="display:none;">
<h2>[CREDS_KEY], [CREDS_IV], [JWT_SECRET]等</h2>
<p>🔐加密数值</p>
<label for="jwt_refresh_secret">JWT_REFRESH_SECRET:</label>
<input id="jwt_refresh_secret"  placeholder="JWT_REFRESH_SECRET"name="jwt_refresh_secret" type="text"/>
<input id="creds_key" placeholder="CREDS_KEY" type="text"/>
<input id="creds_iv" placeholder="CREDS_IV" type="text"/>
<input id="jwt_secret" placeholder="JWT_SECRET" type="text"/>
<button onclick="generateKeys()">一键填入</button>
<button onclick="nextQuestion(15)">下一步</button>
</div>


<div class="question" id="q16" style="display:none;">
<h2>[SESSION_EXPIRY]</h2>
<p>登陆过期时间</p>
<input id="session_expiry" max="30" min="1" type="range" value="7"/>
<input id="session_expiry_number" onchange="updateRange()" type="number" value="7"/>
        天
        <button onclick="nextQuestion(16)">下一步</button>
</div>
<div class="question" id="q17" style="display:none;">
<h2>[DOMAIN_CLIENT]</h2>
<p>公共域名[填入部署的项目地址]</p>
<input id="domain_client" type="text" value="https://huggingface.co/spaces/laogou717/laogouchat"/>
<button onclick="nextQuestion(17)">下一步</button>
</div>
<div class="question" id="q18" style="display:none;">
<h2>[DOMAIN_SERVER]</h2>
<p>数据库域名[填入部署的项目地址]</p>
<input id="domain_server" type="text" value="https://huggingface.co/spaces/laogou717/laogouchat"/>
<button onclick="nextQuestion(18)">下一步</button>
</div>
<div class="question" id="q19" style="display:none;">
<h2>[APP_TITLE]</h2>
<p>网站聊天时的名字可以填入任意内容</p>
<input id="app_title" type="text" value="LAOGOU717"/>
<button onclick="nextQuestion(19)">完成</button>
</div>
<div class="result" id="result" style="display:none;">
<h2>结果</h2>
<p>恭喜你，你已经完成了所有的问题，这是你的问题和答案：</p>
<pre id="output"></pre>
<button onclick="download()">下载</button>
<button onclick="copy()">复制</button>
</div>
<div class="content">
<p>获取变量值</p>
<table>
<tr>
<th>获取地址</th>
<th>备注</th>
</tr>
<tr>
<td>https://chat.openai.com/api/auth/session</td>
<td>Openai登陆token</td>
</tr>
<tr>
<td><p> pk-this-is-a-real-free-pool-token-for-everyone</p>
<p> pk-this-is-a-real-free-api-key-pk-for-everyone</p></td>
<td>共享accesstoken</td>
</tr>
<tr>
<td>https://console.anthropic.com</td>
<td>克劳德API</td>
</tr>
<tr>
<td>https://learn.microsoft.com/zh-cn/training/modules/implement-common-integration-features-finance-ops/10-exercise-1</td>
<td>虚拟机验证</td>
</tr>
<tr>
<td>https://account.mongodb.com/account/login</td>
<td>mongodb数据库</td>
</tr>
</table></div>
<script>

    // Get all the input elements
    const host = document.getElementById("host");
    const port = document.getElementById("port");
    const anthropic_models = document.getElementById("anthropic_models");
    const anthropic_api_key = document.getElementById("anthropic_api_key");
    const openai_models = document.getElementById("openai_models");
    const chatgpt_token = document.getElementById("chatgpt_token");
    const openai_api_key = document.getElementById("openai_api_key");
    const openai_reverse_proxy = document.getElementsByName("openai_reverse_proxy");
    const openai_reverse_proxy_custom = document.getElementById("openai_reverse_proxy_custom");
    const bingai_token = document.getElementById("bingai_token");
    const palm_key = document.getElementById("palm_key");
    const allow_registration = document.getElementsByName("allow_registration");
    const allow_social_login = document.getElementsByName("allow_social_login");
    const allow_social_registration = document.getElementsByName("allow_social_registration");
    const mongo_uri = document.getElementById("mongo_uri");
    const creds_key = document.getElementById("creds_key");
    const creds_iv = document.getElementById("creds_iv");
    const jwt_secret = document.getElementById("jwt_secret");
    const session_expiry = document.getElementById("session_expiry");
    const session_expiry_number = document.getElementById("session_expiry_number");
    const domain_client = document.getElementById("domain_client");
    const domain_server = document.getElementById("domain_server");
    const app_title = document.getElementById("app_title");

    // Get all the question and result elements
    const questions = document.getElementsByClassName("question");
    const result = document.getElementById("result");
    const output = document.getElementById("output");

    // Define a function to go to the next question
    function nextQuestion(n) {
        questions[n-1].style.display = "none";
        if (n < questions.length) {
            questions[n].style.display = "block";
        } else {
            result.style.display = "block";
            showOutput();
        }
    }

    // Define a function to generate random hex strings
    function getRandomHex(size) {
        const crypto = window.crypto || window.msCrypto;
        const buffer = new Uint8Array(size);
        crypto.getRandomValues(buffer);
        return Array.from(buffer).map(b => b.toString(16).padStart(2, '0')).join('');
    }

    // Define a function to generate keys
    function generateKeys() {
        creds_key.value = getRandomHex(32);
        creds_iv.value = getRandomHex(16);
        jwt_secret.value = getRandomHex(32);
        document.getElementById("jwt_refresh_secret").value = getRandomHex(32);
    }

    // Define a function to update the range input
    function updateRange() {
        session_expiry.value = session_expiry_number.value;
    }

    // Define a function to show the output
    function showOutput() {
        let text = "";
        text += "HOST=" + host.value + "\n";
        text += "PORT=" + port.value + "\n";
        text += "ANTHROPIC_MODELS=" + anthropic_models.value + "\n";
        text += "ANTHROPIC_API_KEY=" + anthropic_api_key.value + "\n";
        text += "OPENAI_MODELS=" + openai_models.value + "\n";
        text += "CHATGPT_TOKEN=" + chatgpt_token.value + "\n";
        text += "OPENAI_API_KEY=" + openai_api_key.value + "\n";
        
        for (let i=0; i<openai_reverse_proxy.length; i++) {
            if (openai_reverse_proxy[i].checked) {
                if (openai_reverse_proxy[i].value == "") {
                    text += "OPENAI_REVERSE_PROXY=" + openai_reverse_proxy_custom.value + "\n";
                } else {
                    text += "OPENAI_REVERSE_PROXY=" + openai_reverse_proxy[i].value + "\n";
                }
                break;
            }
        }

        text += "BINGAI_TOKEN=" + bingai_token.value + "\n";
        text += "PALM_KEY=" + palm_key.value + "\n";

        for (let i=0; i<allow_registration.length; i++) {
            if (allow_registration[i].checked) {
                text += "ALLOW_REGISTRATION=" + allow_registration[i].value + "\n";
                break;
            }
        }

        for (let i=0; i<allow_social_login.length; i++) {
            if (allow_social_login[i].checked) {
                text += "ALLOW_SOCIAL_LOGIN=" + allow_social_login[i].value + "\n";
                break;
            }
        }

        for (let i=0; i<allow_social_registration.length; i++) {
            if (allow_social_registration[i].checked) {
                text += "ALLOW_SOCIAL_REGISTRATION=" + allow_social_registration[i].value + "\n";
                break;
            }
        }

        text += "MONGO_URI=" + mongo_uri.value + "\n";
        text += "CREDS_KEY=" + creds_key.value + "\n";
        text += "CREDS_IV=" + creds_iv.value + "\n";
        text += "JWT_SECRET=" + jwt_secret.value + "\n";
        text += "JWT_REFRESH_SECRET=" + document.getElementById("jwt_refresh_secret").value + "\n";
        
let expiryDays = parseInt(session_expiry_number.value);
if (!isNaN(expiryDays)) {
  text += `SESSION_EXPIRY=(1000 * 60 * 60 * 24) * ${expiryDays}\n`;
} else {
    text += "SESSION_EXPIRY=user_provided\n";
}

text += "DOMAIN_CLIENT=" + domain_client.value + "\n";
text += "DOMAIN_SERVER=" + domain_server.value + "\n";
text += "APP_TITLE=" + app_title.value + "\n";
output.textContent = text;
}
// Define a function to download the output
function download() {
let text = output.textContent;
let blob = new Blob([text], {type: "text/plain"});
let url = URL.createObjectURL(blob);
let a = document.createElement("a");
a.href = url;
a.download = "output.txt";
a.click();
URL.revokeObjectURL(url);
}
// Define a function to copy the output
function copy() {
let text = output.textContent;
navigator.clipboard.writeText(text).then(() => {
alert("已复制到剪贴板");
}, () => {
alert("复制失败");
});
}
// Add event listeners to the radio inputs
for (let i=0; i<openai_reverse_proxy.length; i++) {
openai_reverse_proxy[i].addEventListener("change", () => {
let button = document.querySelector("#q8 button");
button.classList.remove("disabled");
});
}
for (let i=0; i<allow_registration.length; i++) {
allow_registration[i].addEventListener("change", () => {
let button = document.querySelector("#q11 button");
button.classList.remove("disabled");
});
}
for (let i=0; i<allow_social_login.length; i++) {
allow_social_login[i].addEventListener("change", () => {
let button = document.querySelector("#q12 button");
button.classList.remove("disabled");
});
}
for (let i=0; i<allow_social_registration.length; i++) {
allow_social_registration[i].addEventListener("change", () => {
let button = document.querySelector("#q13 button");
button.classList.remove("disabled");
});
}
// Add event listener to the range input
session_expiry.addEventListener("input", () => {
session_expiry_number.value = session_expiry.value;
});
</script> </div></body> </html> 
